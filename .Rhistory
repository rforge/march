som@N <- 4L
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE)
library(march)
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE)
library(march)
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE)
library(march)
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE)
som
som@N = 4
som@y
som@y[1]
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE)
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE,maxOrder=5)
traceback()
library(march)
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE,maxOrder=5)
library(march)
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE,maxOrder=5)
som <- march.dataset.loadFromDataFrame(somT,missingDataRep=0)
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE,maxOrder=5)
library(march)
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE,maxOrder=5)
m
library(march)
m<-march.mtd.construct(y=som,order=3,maxIter=5,mtdg=TRUE,maxOrder=5)
m
m<-march.mtd.construct(y=som,order=3,maxIter=5,maxOrder=5)
m
som@y[y>5]
som@y[som@y>5]
som@T[som@T>5]
sum(som@T[som@T>5])
sum(som@T[som@T>5]-3)
sum(som@T[som@T>5]-3)/2
sum(som@T[som@T>5]-5)/2
sum(som@T[som@T>5]-4)/2
sum(som@T[som@T>5]-4)
sum(som@T[som@T>5]-5)
som@N <- 4
som@N <- 4L
som@T
somT
som@T[1:4,]
somT[1:4,]
march.dataset.loadFromDataFrame(somT[1:4,])
march.dataset.loadFromDataFrame(somT[1:4,],missingDataRep=0)
soms <- march.dataset.loadFromDataFrame(somT[1:4,],missingDataRep=0)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
m<-march.mtd.construct(y=pewee,order=3,maxIter=5,maxOrder=5)
m
pewee
soms <- march.dataset.loadFromDataFrame(somT[1:10,],missingDataRep=0)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
soms
soms
library(march)
soms
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
library(march)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
library(march)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
traceback()
library(march)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
library(march)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
log2(0)
log2(0)-4
log2(0)-4*2
(log2(0)-4)*2
som@K
soms <- march.dataset.loadFromDataFrame(somT[1:20,],missingDataRep=0)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
soms <- march.dataset.loadFromDataFrame(somT[1:100,],missingDataRep=0)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
traceback()
library(march)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
traceback()
library(march)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
soms <- march.dataset.loadFromDataFrame(somT[1:10,],missingDataRep=0)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
soms <- march.dataset.loadFromDataFrame(somT[1:50,],missingDataRep=0)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
soms <- march.dataset.loadFromDataFrame(somT[1:70,],missingDataRep=0)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
soms
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=4)
m
soms <- march.dataset.loadFromDataFrame(somT[1:10,],missingDataRep=0)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=4)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=3)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=2)
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=2)
soms
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=2)
traceback()
library(march)
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=2)
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=2)
soms
library(march)
soms
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=2)
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=2)
m<-march.mtd.construct(y=soms,order=1,maxIter=5,maxOrder=1)
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=2)
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=5)
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=5)
m<-march.mtd.construct(y=soms,order=2,maxIter=5,maxOrder=5)
m<-march.mtd.construct(y=soms,order=5,maxIter=5,maxOrder=5)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
m<-march.mtd.construct(y=soms,order=3,maxIter=5,maxOrder=5)
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=2)
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=3)
som
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=3)
library(march)
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=3)
som
som@T=1000
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=3)
som <- march.dataset.loadFromDataFrame(somT,missingDataRep=0)
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=3)
m
som@T[som@T>5]
sum(som@T[som@T>5]-5)
som@T[som@T>5]-5
sum(som@T[som@T>3]-3)
m
library(march)
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
backtrace()
traceback()
library(march)
error()
stop("hey")
library(march)
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=1)
library(march)
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=1)
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=3)
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
library(march)
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=3)
m<-march.mtd.construct(y=som,order=2,maxIter=5,maxOrder=5)
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
traceback()
library(march)
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
models
models[[7]]
models[[6]]
models[[6]]
pewee
models[[7]]
models[[6]]
models[[6]]@dsL <- 1320
march.ABIC(models[[6]])
march.BIC(models[[6]])
models[[6]]@dsL <- 1319
march.BIC(models[[6]])
models[[5]]@dsL <- 1320
march.BIC(models[[5]])
library(march)
march.BIC(models[[5]])
models[[5]]
march.dcmm.nbParams(models[[5]])
march.nbParams(models[[5]])
library(march)
march.nbParams(models[[5]])
march.BIC(models[[5]])
models[[5]]
models[[5]]@dsL
models[[5]]@dsL <- 1323
march.BIC(models[[5]])
march.BIC(models[[5]])
models[[5]]@ll
march.BIC(models[[5]])
library(march)
march.BIC(models[[5]])
library(march)
march.BIC(models[[5]])
library(march)
march.BIC(models[[5]])
library(march)
march.BIC(models[[5]])
models[[5]]
models[[5]]@Q
march.BIC(models[[5]])
library(march)
library(march)
library(march)
march.BIC(models[[5]])
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
library(march)
source('~/Desktop/mc/mc/R/march.AllGenerics.R')
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
library(march)
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
models
library(march)
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
models
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
library(march)
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
library(march)
library(march)
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
library(march)
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
library(march)
library("march", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
source('~/Desktop/mc/mc/tests.test/mk.berchtold2002.R')
library(march)
march.dcmm.construct(y=pewee)
march.dcmm.construct(y=pewee,M=2)
march.dcmm.construct(y=pewee,M=2,orderVC=2,orderHC=2)
library(march)
march.dcmm.construct(y=pewee,M=2,orderVC=2,orderHC=2)
library(march)
march.dcmm.construct(y=pewee,M=2,orderVC=2,orderHC=2)
march.dcmm.construct(y=pewee,M=2,orderVC=2,orderHC=2)
library(march)
#
source('~/Desktop/Bur/mc-RC2/mc/tests.test/mk.berchtold2002.R')
source('~/Desktop/Bur/mc-RC2/mc/tests.test/mk.berchtold2002.R')
march.dcmm.viterbi <- function(d,s){
delta <- matrix(0,nrow=length(s),ncol=d@M^d@orderHC)
# intial step t=orderVC+1
t = d@orderVC+1
for( j0 in 1:d@M ){
delta[t,j0] <- d@Pi[1,1,j0]*d@RB[j0,march.dcmm.h.encodeOutput(s,t,d),s[t]]
}
delta[t,] <- march.dcmm.h.scaleAlpha(d@M,delta[t,])$scaled
if( d@orderHC>1 ){
# initial step to<=orderVC+orderHC
for( t in march.seq(d@orderVC+2,d@orderVC+d@orderHC)){
rowC <- march.dcmm.h.encodeOutput(s,t,d)
for( j in 1:(d@M^(t-d@orderVC)) ){
j0 = floor((j-1)/(d@M^(t-d@orderVC-1)))+1;
delta[t,j] <- max(delta[t-1,]*d@Pi[t-d@orderVC,,j0])*d@RB[j0,rowC,s[t]]
}
delta[t,] <- march.dcmm.h.scaleAlpha(d@M^(t-d@orderVC),delta[t,])$scaled
}
}
# Induction to t=length(y)
for( t in (d@orderVC+d@orderHC+1):length(s)){ #
rowC <- march.dcmm.h.encodeOutput(s,t,d)
for( j in 1:(d@M^d@orderHC)){
j0 = floor((j-1)/(d@M^(d@orderHC-1)))+1;
delta[t,j] <- max(delta[t-1,]*d@A[,j])*d@RB[j0, rowC,s[t]]
}
delta[t,] <- march.dcmm.h.scaleAlpha(d@M^d@orderHC,delta[t,])$scaled
}
X <- vector(mode="integer",length(s))
e_t = which.max(delta[t,])
x_t = floor((e_t-1)/(d@M^(d@orderHC-1)))+1
X[length(s)] <- x_t
# find the best sequence of hidden step
for( t in seq((length(s)-1),d@orderVC+d@orderHC) ){
e_t <- which.max(delta[t,]*d@A[,e_t])
x_t <- floor((e_t-1)/(d@M^(d@orderHC-1)))+1
X[t] <- x_t
}
for( t in seq(d@orderHC+d@orderVC-1,d@orderVC+1)){
e_t <- which.max(delta[t,]*d@Pi[t-d@orderVC+1,x_t,])
X[t] <- floor((e_t-1)/(d@M^(d@orderHC-1)))+1
}
X
}
march.dcmm.viterbi
march.dataset.h.extractSequence <- function(y,i){
new("march.Sequence",y=y@y[[i]],N=as.integer(y@T[i]),weight=y@weights[i])
}
march.dataset.h.extractSequence(y,1)
march.dataset.h.extractSequence(pewee,1)
s <- march.dataset.h.extractSequence(pewee,1)
models
length(models)
models[[12]]
march.dcmm.viterbi(models[[12]],s)
install.packages("devtools")
install.packages("roxygen2")
library("devtools")
install_github("devtools","hadley")
roxygen2::upgradeRoxygen('.')
library(march)
march.dcmm.viterbi(models[[12]],s)
s <- march.dataset.h.extractSequence(pewee,1)
march.dcmm.viterbi(models[[12]],s)
source('~/Desktop/Bur/mc-RC2/mc/tests.test/mk.berchtold2002.R')
march.dcmm.viterbi(models[[12]],s)
library(march)
march.dcmm.viterbi(models[[12]],s)
library(march)
march.dcmm.viterbi(models[[12]],s)
models[[12]]
march.dcmm.viterbi(models[[12]],s)
traceback()
library(march)
march.dcmm.viterbi(models[[12]],s)
traceback()
library(march)
march.dcmm.viterbi(models[[12]],s)
s <- march.dataset.h.extractSequence(pewee,1)
library(march)
s <- march.dataset.h.extractSequence(pewee,1)
source('~/Desktop/Bur/mc-RC2/mc/tests.test/mk.berchtold2002.R')
march.dcmm.viterbi(models[[12]],s)
library(march)
march.dcmm.viterbi(models[[12]],s)
list()
l <- list()
l[[1]] = "plop"
l
library(march)
source('~/Desktop/Bur/mc-RC2/mc/tests.test/mk.berchtold2002.R', echo=TRUE)
models[[12]]
march.dcmm.viterbi(models[[12]],pewee)
library(march)
march.dcmm.viterbi(models[[12]],pewee)
mvad
mvad_seq
march.dcmm.construct(mvad_seq)
march.dcmm.construct(mvad_seq,orderHC=2)
march.dcmm.construct(mvad_seq,orderHC=2,orderVC=2)
march.dcmm.construct(mvad_seq,orderHC=2,orderVC=2,M=2)
traceback
traceback()
table.read("data.test/dsim_1.txt")
read.table("data.test/dsim_1.txt")
t <- read.table("data.test/dsim_1.txt")
march.dataset.loadFromDataFrame(t)
ds <- march.dataset.loadFromDataFrame(t)
march.dcmm.construct(ds,orderHC=2,orderVC=2,M=2)
m <- march.dcmm.construct(ds,orderHC=2,orderVC=2,M=2)
m <- march.dcmm.construct(ds,orderHC=2,orderVC=0,M=2)
m <- march.dcmm.construct(ds,orderHC=2,orderVC=0,M=2)
m <- march.dcmm.construct(ds,orderHC=2,orderVC=0,M=2)
library("march", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
m <- march.dcmm.construct(ds,orderHC=2,orderVC=0,M=2)
t <- read.table("data.test/dsim_1.txt")
ds <- march.dataset.loadFromDataFrame(t)
m <- march.dcmm.construct(ds,orderHC=2,orderVC=0,M=2)
o <- march.dcmm.viterbi(m,ds)
o
m <- march.dcmm.construct(ds,orderHC=2,orderVC=2,M=2)
o <- march.dcmm.viterbi(m,ds)
o
library(march)
library(march)
library(march)
help(march)
sleep <- march.dataset.loadFromDataFrame(sleep_df, MARGIN = 2,
weights = NA, missingDataRep = NA)
MCsleep <- march.mc.construct(sleep,order=1)
print(MCsleep)
Indsleep <- march.indep.construct(sleep)
print(Indsleep)
MCsleep <- march.mc.construct(sleep,order=1,maxOrder=0)
Indsleep <- march.indep.construct(sleep,maxOrder=1)
print(Indsleep)
MCsleep <- march.mc.construct(sleep,order=1)
print(MCsleep)
march.thompson(MCsleep, alpha=0.05)
march.thompson(Indsleep, alpha=0.05)
sleepNames <- c("1","2","3","4","5","6")
MCsleep2 <- new("markovchain", states=sleepNames, transitionMatrix=MCsleep@RC)
library(markovchain)
MCsleep2 <- new("markovchain", states=sleepNames, transitionMatrix=MCsleep@RC)
plot(MCsleep2)
summary(MCsleep2)
HMMsleep <- march.dcmm.construct(sleep, orderHC=1, orderVC=0, M=2, gen = 1,
popSize = 1, iterBw = 25, stopBw = 0.1)
print(HMMsleep)
march.summary(HMMsleep)
HMMstates <- march.dcmm.viterbi(HMMsleep,sleep)
DCMMsleep <- march.dcmm.construct(sleep, orderHC=1, orderVC=1, M=2, gen = 1,
popSize = 1, iterBw = 25, stopBw = 0.1)
print(DCMMsleep)
DCMMsleep <- march.dcmm.construct(sleep, orderHC=1, orderVC=1, M=2, gen = 1,
popSize = 1, iterBw = 25, stopBw = 0.1,maxOrder=1)
print(DCMMsleep)
DCMMsleep <- march.dcmm.construct(sleep, orderHC=1, orderVC=1, M=2, gen = 1,
popSize = 1, iterBw = 25, stopBw = 0.1,maxOrder=2)
print(DCMMsleep)
sum(sleep@y)
sum(sleep@yRaw)
summary(sleep)
data(sleep_df)
sleepdf <- data(sleep_df)
sleepdf <- data('sleep_df')
help(data)
data()
data(march,"sleep_df")
data("sleep_df")
View(sleep_df)
summary(sleep_df)
=7000-72-179-446
7000-72-179-446
MTDsleep <- march.mtd.construct(sleep,order=2)
print(MTDsleep)
MTDsleep <- march.mtd.construct(sleep,order=2,maxOrder=3)
print(MTDsleep)
Indsleep <- march.indep.construct(sleep,maxOrder=1)
print(Indsleep)
library(march)
DCMMsleep <- march.dcmm.construct(sleep, orderHC=1, orderVC=1, M=2, gen = 1,
popSize = 1, iterBw = 25, stopBw = 0.1)
print(DCMMsleep)
library(march)
help(march)
library(march)
help(march)
load(sleep)
data(sleep)
View(sleep)
ls()
sleep@yN
sleep
ls(sleep)
summary(sleep)
library(march)
help(march.construct.dcmm)
help(march.dcmm.construct)
march.dcmm.construct(pewee, orderHC=1, orderVC=0, M=3, gen = 1, popSize = 1,iterBw = 5, stopBw = 0.1)
march.dcmm.construct(pewee, orderHC=1, orderVC=1, M=3, gen = 1, popSize = 1,iterBw = 5, stopBw = 0.1)
march.dcmm.construct(pewee, orderHC=2, orderVC=1, M=3, gen = 1, popSize = 1,iterBw = 5, stopBw = 0.1)
data(sleep_df)
View(sleep_df)
dodo <- march.dataset.loadFromDataFrame(sleep_df[1:25,], MARGIN = 2, weights = NA, missingDataRep = NA)
W=runif(25)
W <- W/sum(W)
sum(W)
W
W <- W*25
W
sum(W)
dodo.W <- march.dataset.loadFromDataFrame(sleep_df[1:25,], MARGIN = 2, weights = W, missingDataRep = NA)
march.indep.construct(dd)
march.indep.construct(dodo)
march.indep.construct(dodo.W)
march.mc.construct(dodo,order=1)
march.mc.construct(dodo.W,order=1)
march.mtd.construct(dodo,order=1)
help(march.mtd.construct)
help(march.mtd.W.construct)
march.mtd.construct(dodo.W,order=1)
dodo100 <- march.dataset.loadFromDataFrame(sleep_df[1:100,], MARGIN = 2, weights = NA, missingDataRep = NA)
dcmm.mc.construct(dodo100,order=1)
march.mc.construct(dodo100,order=1)
march.mtd.construct(dodo100,order=1)
model <- march.mtd.construct(pewee,4)
print(model)
model <- march.mtd.construct(pewee,3,mtdg=TRUE)
print(model)
model <- march.mtd.construct(sleep,4)
print(model)
dodo1000 <- march.dataset.loadFromDataFrame(sleep_df[1:1000,], MARGIN = 2, weights = NA, missingDataRep = NA)
model <- march.mtd.construct(dodo1000,4)
print(model)
W1000 <- runif(1000)
W1000 <- W1000/sum(W1000)*1000
sum(W1000)
dodo1000.W <- march.dataset.loadFromDataFrame(sleep_df[1:1000,], MARGIN = 2, weights = W1000, missingDataRep = NA)
model <- march.mtd.construct(dodo1000.W,4)
print(model)
march.indep.construct(dodo1000)
march.indep.construct(dodo1000.W)
xx <- 1:5
yy <- 2:6
xx*yy
xx*yy-5
model <- march.mtd.construct(dodo1000.W,4)
print(model)
library(march)
library(march)
model <- march.mtd.construct(dodo1000.W,4)
print(model)
library(march)
model <- march.mtd.construct(dodo1000.W,4)
print(model)
model <- march.mtd.construct(dodo1000,4,mtdg=TRUE), print(model)
model <- march.mtd.construct(dodo1000,4,mtdg=TRUE)print(model)
model <- march.mtd.construct(dodo1000,4,mtdg=TRUE)
print(model)
model <- march.mtd.construct(dodo1000.W,4,mtdg=TRUE)
print(model)
model <- march.dcmm.construct(dodo1000,orderHC=1,orderVC=1,M=3,gen=1,popSize=1)
print(model)
model <- march.dcmm.construct(dodo1000.W,orderHC=1,orderVC=1,M=3,gen=1,popSize=1)
print(model)
library(march)
model <- march.dcmm.construct(dodo1000.W,orderHC=1,orderVC=1,M=3,gen=1,popSize=1)
print(model)
model <- march.dcmm.construct(dodo1000,orderHC=1,orderVC=0,M=3,popSize=1)
print(model)
model <- march.dcmm.construct(dodo1000.W,orderHC=1,orderVC=0,M=3,popSize=1)
print(model)
model <- march.dcmm.construct(dodo1000.W,orderHC=2,orderVC=1,M=3,popSize=10,gen=3,iterBw=2)
print(model)
help(march)
library(march)
library(march)
help(march)
